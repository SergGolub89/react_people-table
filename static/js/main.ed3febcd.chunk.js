(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(10),c=n.n(l),o=n(11),u=n(8),i=n(2),s=n(3),p=n(5),m=n(4),d=n(6),h=n(1),f=n.n(h),b=n(7),v=function(e){var t=e.person,n=e.select,r=e.selectedId,l="m"===t.sex?"Person--male":"Person--female",c=t.born<1650?"tooOld":null,o=t.age>=65?"longLiver":null,u=l+" Person--lived-in-".concat(t.century),i=t.id===r?"Person--selected":"";return a.a.createElement("tr",{onClick:function(){return n(t.id)},className:"".concat(u," ").concat(i)},a.a.createElement("td",null,t.id),a.a.createElement("td",{className:c},t.name),a.a.createElement("td",null,t.sex),a.a.createElement("td",null,t.born),a.a.createElement("td",null,t.died),a.a.createElement("td",{className:o},t.age),a.a.createElement("td",null,t.century),a.a.createElement("td",null,t.father),a.a.createElement("td",null,t.mother),a.a.createElement("td",null,t.children))},E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={selectedId:0},n.setSelectedId=function(e){n.setState({selectedId:e})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.people,r=t.sortPeople,l=this.state.selectedId;return a.a.createElement("table",{className:"PeopleTable"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{onClick:function(){return r("id")}},"ID"),a.a.createElement("th",{onClick:function(){return r("name")}},"Name"),a.a.createElement("th",{onClick:function(){return r("sex")}},"Sex"),a.a.createElement("th",{onClick:function(){return r("born")}},"Born"),a.a.createElement("th",{onClick:function(){return r("died")}},"Died"),a.a.createElement("th",{onClick:function(){return r("age")}},"Age"),a.a.createElement("th",{onClick:function(){return r("century")}},"Century"),a.a.createElement("th",null,"Father"),a.a.createElement("th",null,"Mother"),a.a.createElement("th",null,"Children"))),a.a.createElement("tbody",null,n.map(function(t){return a.a.createElement(v,{key:t.id,person:t,selectedId:l,select:e.setSelectedId})})))}}]),t}(a.a.Component),y=(n(19),function(){var e=Object(b.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mate-academy.github.io/react_people-table/api/people.json",e.next=3,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={people:[],visiblePeople:[],inputValue:"",sortField:""},n.checkPersonInfo=function(e,t){return!!e&&e.toLowerCase().includes(t.toLowerCase())},n.filterPeople=function(e){var t=e.target.value;n.setState(function(e){return{inputValue:t,visiblePeople:e.people.filter(function(e){var r=e.name+e.mother+e.father;return n.checkPersonInfo(r,t)})}})},n.sortPeople=function(e){e!==n.state.sortField?n.setState(function(t){return{visiblePeople:Object(u.a)(t.people).sort(function(t,n){switch(typeof t[e]){case"string":return t[e].localeCompare(n[e]);case"boolean":case"number":return t[e]-n[e];default:return 0}}),sortField:e}}):n.setState(function(e){return{visiblePeople:Object(u.a)(e.visiblePeople.reverse())}})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,n=t.map(function(e,n){return Object(o.a)({id:n+1},e,{age:e.died-e.born,century:Math.ceil(e.died/100),children:t.filter(function(t){return t.mother===e.name||t.father===e.name}).map(function(e){return e.name}).join(", ")})}),this.setState({people:n,visiblePeople:n});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.visiblePeople;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Number of people:",n.length),a.a.createElement("input",{onChange:this.filterPeople,value:t,type:"text",placeholder:"Serch by name, mother or father",size:"40"}),a.a.createElement(E,{people:n,sortPeople:this.sortPeople}))}}]),t}(r.Component);c.a.render(a.a.createElement(P,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.ed3febcd.chunk.js.map